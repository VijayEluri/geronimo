
Welcome to Apache Geronimo
==========================

To build you will need:

 * J2SE SDK 1.4.2+ (http://java.sun.com/j2se/1.4.2)
 * Maven 2.0.4+ (http://maven.apache.org)
 * Ant 1.6.5+ (http://ant.apache.org) - Used only to bootstrap

NOTE: If you use JDK 1.5 you may run into unexpected errors, so stick to 1.4.

For detail instructions please see:

    http://cwiki.apache.org/GMOxDEV/building-apache-geronimo-with-maven-2.html


Building for the first time
===========================

Currently to ensure that your build works you should bootstrap, which will
clean your local Maven 2 repository, download some sources and build them
and kick off the Geronimo build.

You will need Ant installed and available in the search path of your shell.

To start the bootstrap build simply:

    ./bootstrap

The end result will be a set of functional distributions in m2-assemblies/*/target
which you can unpack and startup, as in:

    gunzip -c m2-assemblies/geronimo-jetty-j2ee/target/geronimo-jetty-j2ee*-bin.tar.gz | tar xf -
    ./geronimo-jetty-j2ee*/bin/startup.sh
    ...
    ./geronimo-jetty-j2ee*/bin/shutdown.sh


Subsequent builds
=================

After the initial bootstrap build, the `mvn` command can be used.

To build all changes incrementally:

    mvn install

To perform clean builds, which are sometimes needed after some changes to the 
source tree:

    mvn clean install


Generating a Site
=================

There are several really annonying bugs in the site builds, mostly due to the
maven-clover-plugin.

To build the site you need to first, build as in:

    mvn clean install

And then:

    mvn site -Denv=site

If you attempt to run `mvn clean install site` strange errors are bound to occur
which will drive you crazy and you may start pulling your hairout... so its not
recommended.

It is important to specify `-Denv=site` to limit the modules which are processed,
as many of the configs modules will freakout.

