<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-1.2"
    xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2">
    <sys:environment>
        <sys:moduleId>
            <sys:groupId>${pom.groupId}</sys:groupId>
            <sys:artifactId>${pom.artifactId}</sys:artifactId>
            <sys:version>${version}</sys:version>
            <sys:type>car</sys:type>
        </sys:moduleId>
    </sys:environment>
    <context-root>/TomcatWeb</context-root>
    <web-container>
        <gbean-link>TomcatWebContainer</gbean-link>
    </web-container>
    <container-config>
        <tomcat>
            <host>testhost.com</host>
            <valve-chain>FirstValve</valve-chain>
            <tomcat-realm>TomcatRealm</tomcat-realm>
        </tomcat>
    </container-config>
    <gbean name="NewVirtualHost"
        class="org.apache.geronimo.tomcat.HostGBean">
        <attribute name="className">
			org.apache.catalina.core.StandardHost
        </attribute>
        <attribute name="initParams">
			name=testhost.com
			appBase=
			workDir=work
        </attribute>
    </gbean>
    <gbean name="FirstValve"
        class="org.apache.geronimo.tomcat.ValveGBean">
        <attribute name="className">
			org.apache.catalina.authenticator.SingleSignOn
        </attribute>
        <reference name="NextValve">
            <name>SecondValve</name>
        </reference>
    </gbean>
    <gbean name="SecondValve"
        class="org.apache.geronimo.tomcat.ValveGBean">
        <attribute name="className">
			org.apache.catalina.valves.AccessLogValve
        </attribute>
        <attribute name="initParams">
			prefix=localhost_access_log. suffix=.txt pattern=common
        </attribute>
    </gbean>
    <gbean name="TomcatRealm"
        class="org.apache.geronimo.tomcat.RealmGBean">
        <attribute name="className">
			org.apache.geronimo.tomcat.realm.TomcatGeronimoRealm
        </attribute>
        <attribute name="initParams">
			userClassNames=org.apache.geronimo.security.realm.providers.GeronimoUserPrincipal
			roleClassNames=org.apache.geronimo.security.realm.providers.GeronimoGroupPrincipal
        </attribute>
    </gbean>
</web-app>