Release Notes -- Apache Geronimo -- Version @VERSION@


Geronimo URLs
-------------
Home Page:     http://geronimo.apache.org/
Downloads:     http://geronimo.apache.org/downloads.html
Documentation: http://geronimo.apache.org/documentation.html
Mailing Lists: http://geronimo.apache.org/mailing-lists.html
Source Code:   http://geronimo.apache.org/source-code.html
Bug Tracking:  http://issues.apache.org/jira/browse/GERONIMO
Wiki:          http://cwiki.apache.org/geronimo


Documentation
-------------
Please see http://cwiki.apache.org/GMOxDOC22/documentation.html for the
latest documentation on this release.


System Requirements
-------------------
You need a platform that supports the Sun JDK 5.0+ (J2SE 1.5.0+) or greater.

Most testing has been done on Linux, Mac OS X, and Windows.


Geronimo @VERSION@ Enhancements
-------------------------

Annotation based gbeans
- GBean metadata can be specified via annotations rather than static code blocks.
  In addition, collection-valued annotated constructor arguments support both plain and
  wildcard generics.

Improvements to plugin generation and custom server assemblies
- The car-maven-plugin now follows maven transitive dependencies by default.
  This greatly simplifies including all needed jars and cars into a custom server
  assembly.

Clustering Support
- WADI can now be used to support clustering of stateful seesion beans as well
  as web applications.
- As an alternative to the deployment-based clustering support, the set of plugins
  deployed in a cluster can now be centrally managed.  In this
  scheme, cluster membership is maintained through a multicast heartbeat, and
  plugin-plugin-list and plugin-list-cluster association is tracked in a database.

ActiveMQ 5.4.1
- We have upgraded to the latest released ActiveMQ version.  The ActiveMQ broker is
  now configured through the native activemq/xbean/spring native xml.

Jetty 7
- Jetty support is upgraded to Jetty 7 from the eclipse foundation.  This includes considerable
  amounts of servlet 3.0 functionality, and JASPIC support.

Tomcat
- The Tomcat server is now configured through native server.xml configuration files rather than gbeans.

JASPIC support (jsr-196)
- Both the jetty and tomcat servers include tck-compliant support for the jsr-196 JASPIC specification
  servlet profile. This enables standards-based integration of authentication protocols such as openId,
  SPNEGO, and various SSO providers into container-managed authentication.

App-independent principal-role mapping
- principal-role mapping can be configured independently of an application and used by reference.

Geronimo @VERSION@ Issues Resolved
------------------------------

** New Feature
    * [GERONIMO-5516] -	Add isAdvanced properties to AdminConsoleExtensionGBean
    * [GERONIMO-5156] -	Command line utility to unlock a keystore and private key
    * [GERONIMO-5044] -	Prepared Statement Cache to be made available in Informix XA tranql RA
    * [GERONIMO-5027] -	Redeploy option for farming
    * [GERONIMO-4535] -	Alternate Node Discovery for Plugin Based Farming   
    
    
    
** Improvement
    * [GERONIMO-5696] -	Add db2 for iSeries tranql xa connector to server
    * [GERONIMO-5533] -	Upgrade to Tomcat 6.0.29
    * [GERONIMO-5532] -	Add config-substitution.properties overrrides options to geronimo-maven-plugin start-server goal
    * [GERONIMO-5504] -	Add "overrides" and "overriDir" parameters to geronimo-maven-plugin start-server goal
    * [GERONIMO-5444] -	Add slight delay during async startup of ActiveMQ
    * [GERONIMO-5373] -	Enable previous released geronimo 2.2 plugins installable on G 2.2.1
    * [GERONIMO-5354] -	Support configuration from openejb portlet for added attributes of stateless ejb container.
    * [GERONIMO-5277] -	Update CXF to 2.1.9 , Update myfaces to 1.28
    * [GERONIMO-5244] -	Upgrade to AMQ 5.3.1
    * [GERONIMO-5206] -	Assembly may start failed when server-security-config car is not assembled
    * [GERONIMO-5193] -	Upgrade DOJO from 1.3.2 to 1.4.2 in 22 branch and trunk.
    * [GERONIMO-5148] -	Remove the dependency of clustering over JMXConnector
    * [GERONIMO-5122] -	Upgrade Tomcat to 6.0.26
    * [GERONIMO-4977] -	EN/Simp.Chinese UI information improvement for Console
    * [GERONIMO-4637] -	Need documents on how to replace default file realm in Geronimo
    * [GERONIMO-4593] -	Upgrade to OpenJPA 1.2.2
    * [GERONIMO-4583] -	Remove obsolete plugins from plugins group
    * [GERONIMO-4363] -	Update plugin metadata (especially category) to represent function of a plugin
    * [GERONIMO-4296] -	Start Derby NetworkServerControl with credentials to prevent unauthorized shutdowns
    * [GERONIMO-4238] -	JMX over SSL improvements
    * [GERONIMO-3003] -	Encrypt password strings in deployment plans
    * [GERONIMO-2593] -	Document Javamail Session creation and usage    

    
    
** Bug
    * [GERONIMO-5706] -	When derby authentication is disabled, DB manager portlet run SQL error: Caused by: java.sql.SQLException: Schema 'DBADMIN' does not exist
    * [GERONIMO-5684] -	Some txmanager Timers are not being created as daemon threads
    * [GERONIMO-5672] -	Overriding an env-entry in geronimo-web.xml fails with a DeploymentException
    * [GERONIMO-5660] -	Shutdown of server with asyncStartup of ActiveMQ can hang
    * [GERONIMO-5649] -	txmanager could try to replace dead XAResources in commit and rollback tasks
    * [GERONIMO-5648] -	txmanager rollback needs retry scheduler too
    * [GERONIMO-5640] -	Qualified web resource permission for each role should be calculated based its own url set
    * [GERONIMO-5638] -	Remove the encrypt(String) method in ConfiguredEncryption
    * [GERONIMO-5612] -	Filter no permission functions for built-in user "monitor"
    * [GERONIMO-5590] -	startup script does not consume --help option
    * [GERONIMO-5578] -	incorrect behaviour of security-constraint configuration in web.xml
    * [GERONIMO-5563] -	Clicking on application URL in console opens app in the console frame with controls truncated.
    * [GERONIMO-5558] -	Transaction Commit status is not configured correctly
    * [GERONIMO-5548] -	Default user "monitor" can't login admin console in Geronimo_3.0_trunk
    * [GERONIMO-5535] -	jms-mdb sample contains too many jar files
    * [GERONIMO-5534] -	AccessTimeout warning during server startup.
    * [GERONIMO-5530] -	NullPointerException during MDB deployment
    * [GERONIMO-5519] -	Transaction recovery might commit the wrong branch on an XAResource
    * [GERONIMO-5501] -	Support recovery of inbound xaresources in openejb
    * [GERONIMO-5469] -	Add EJB cluster testsuite
    * [GERONIMO-5455] -	"No instances available in Stateless Session Bean pool" error when call ejb in EJB singlepoint cluster
    * [GERONIMO-5452] -	PersistenceUnitBuilder cannot find persistence.xml on inPlace deployments
    * [GERONIMO-5446] -	"ERROR [EjbModuleImpl] Module does not exist." when start MEJB module
    * [GERONIMO-5441] -	Update openejb pool JMX attributes
    * [GERONIMO-5426] -	AMQPeristentAdapter reported errors when setup activemq share file system master/slave
    * [GERONIMO-5424] -	Encrypt truststore pass for tomcat web ssl connector
    * [GERONIMO-5419] -	Console testsuite has failures with Tomcat assembly
    * [GERONIMO-5418] -	Console testsuite failures are caused by the new DOJO navigation tree
    * [GERONIMO-5401] -	Geronimo encrypts empty passwords
    * [GERONIMO-5387] -	Update the spring framework to fix Spring framework CVE-2010-1622 vulnerability.
    * [GERONIMO-5384] -	Geronimo console doesn't seem to handle % in sql statements right.
    * [GERONIMO-5383] -	CVE-2010-1632 and CVE-2010-2076: Axis2 and CXF HTTP binding enables DTD based XML attacks.
    * [GERONIMO-5382] -	Enable the max permsize configuration in geronimo-maven-plugin
    * [GERONIMO-5376] -	OpenEJB failover failed
    * [GERONIMO-5372] -	Linux cann't grap file lock from windows but windows can grap share file lock from linux
    * [GERONIMO-5371] -	Connection refused when change ServerHostName attribute to short hostname
    * [GERONIMO-5370] -	ActiveMQ: After failover, messages will not be delivered to MessageEndpoint
    * [GERONIMO-5369] -	Geronimo 2.2.1 start failed on jdk 1.5.22, but successfully on JDK 1.6
    * [GERONIMO-5368] -	Search failed when find text in debug views
    * [GERONIMO-5364] -	"HTTP Status 400 - XSSXSRFFilter blocked HttpServletRequest due to invalid FORM content" error
    * [GERONIMO-5358] -	NPE "Error deploying 'ejb/mgmt/MEJB'." when starting geronimo server.
    * [GERONIMO-5357] -	Run ActiveMQ 5.4 in Geronimo 2.2?
    * [GERONIMO-5356] -	EJB Client can access a stopped EJB Node
    * [GERONIMO-5349] -	Update <geronimoVersion> attribute in g221 sample branch pom.xml
    * [GERONIMO-5348] -	Fail to install plugin from Geronimo2.2.1 Sample Plugin URL
    * [GERONIMO-5347] -	Upgrade selenium to support latest version browsers in testsuite.
    * [GERONIMO-5341] -	(master node)NODE-A's Web Application page in Console doesn't display the app(cviewer) which has been deployed.
    * [GERONIMO-5339] -	cannot assign instance of org.apache.catalina.tribes.UniqueId to field org.codehaus.wadi.tribes.TribesPeer.uniqueId of type org.apache.catalina.tribes.UniqueId error when deploy wadi based session bean cluster to tomcat build.
    * [GERONIMO-5332] -	More changes needed in geronimo openejb modules after upgrading openejb to 3.1.3-snapshot.
    * [GERONIMO-5330] -	env-entry values should not be trimmed
    * [GERONIMO-5325] -	iframe causes some portlets display incorrectly
    * [GERONIMO-5324] -	the "Console navigation" is always displayed in Chinese although the browser language has been set to English-US
    * [GERONIMO-5303] -	Improve metadata of encrypt command
    * [GERONIMO-5274] -	Deploy New/Install New Application portlet needs some love to help out newbies
    * [GERONIMO-5254] -	The ActiveMQ XML configuration is incorrect regarding memoryUsage limit
    * [GERONIMO-5243] -	'/activemq-console does not require admin authentication
    * [GERONIMO-5204] -	var/security/keystores seems to be a required directory, but is not being created for custom assemblies
    * [GERONIMO-5200] -	high cpu load, probably result of concurrent access of resourcesNotFound in MultiParentClassLoader
    * [GERONIMO-5192] -	Changeing http port to 80 causes a port in use exception in the RMI service
    * [GERONIMO-5180] -	Deployer unlockKeystore command cannot be utilized if keystore is created through Java provided KeyTool
    * [GERONIMO-5177] -	Removing an entry from the Repository results in NullPointerException
    * [GERONIMO-5167] -	" ERROR [JNDIReferenceFactory] null" when I deploy new JMS Resource Group for Active MQ
    * [GERONIMO-5163] -	Admin console assemble server problems
    * [GERONIMO-5161] -	OpenEJB is starting an ejbds listener which is not currently controlled by geronimo
    * [GERONIMO-5155] -	Locking a keystore under "Available" results in exception
    * [GERONIMO-5154] -	system property overrides to config-substitutions.properties does not work for activemq.xml
    * [GERONIMO-5152] -	Transaction manager doesn't retry stuff that might work later
    * [GERONIMO-5150] -	Connection pool idleReleaser should not expand the number of permits
    * [GERONIMO-5146] -	Geronimo should provide a default encrypted password for trustStore and keyStore
    * [GERONIMO-5125] -	Enable connecting to a ldap server anonymously on console
    * [GERONIMO-5124] -	No actions for JMS Resouces
    * [GERONIMO-5055] -	Informix tranql XA 1.2 snapshot leads to weird admin console
    * [GERONIMO-5043] -	Informix IFX_XASPEC property to be made available to set through Administrative Console
    * [GERONIMO-5039] -	Informix Lock Mode Wait property
    * [GERONIMO-5036] -	[OpenEJB] Unable to clear Sun JarFileFactory cache: warning after upgrading to Sun JDK 1.6.0 u18
    * [GERONIMO-5032] -	Procrun issue: windows service is stoped when user log off console session
    * [GERONIMO-5020] -	"JACC manager gbean already present" deploymentException stop car-maven-plugin to generate valid geronimo plugin car
    * [GERONIMO-5015] -	The testsuite is not working.
    * [GERONIMO-5013] -	ConcurrentModificationException in MultiParentClassLoader.getResource()
    * [GERONIMO-5011] -	EJB Web Service security not working at all in G 2.2
    * [GERONIMO-5010] -	Transport confifential not working, 403 instead of 302 HTTP headers returned
    * [GERONIMO-4997] -	Can not connect to a ldap server in an anonymous way
    * [GERONIMO-4991] -	Update AXIS2 stack to 1.5.1
    * [GERONIMO-4983] -	In debug mode Properties file login module reurns loginsucceeded as true for non existent users and null password
    * [GERONIMO-4968] -	Problemastic OS check in Windows startup command
    * [GERONIMO-4957] -	javax.el.CompositeELResolver is not thread-safe
    * [GERONIMO-4945] -	Unable to deploy ejb with custom annotation
    * [GERONIMO-4944] -	Deploying an EAR with security tries to create a new JACCManager
    * [GERONIMO-4898] -	can't install app-per-port sample using deploy/install-plugin command
    * [GERONIMO-4896] -	Commands to a Secure JMX Connector require the SSL keyStorePassword to be specified on command line
    * [GERONIMO-4892] -	Farm Deployment Error if deploy more than one applications
    * [GERONIMO-4871] -	Something blocking 'kill -3' signals?
    * [GERONIMO-4866] -	G22 doc bugs: tutorial part
    * [GERONIMO-4844] -	There is an error after undeploy the application and deploy the application again when configure WADI clustering,
    * [GERONIMO-4801] -	it says "JACC manager gbean already present" when i deploy PlantsByWebSphere sample
    * [GERONIMO-4800] -	Wrong information when run deploy.bat install-plugin command
    * [GERONIMO-4792] -	deploy --inPlace - wrong error message for non-existing folders
    * [GERONIMO-4738] -	ejb ws report authorization failures as 500 internal server error
    * [GERONIMO-4608] -	java.io.EOFException when reading ejb response
    * [GERONIMO-4446] -	ServletRequestAttributeListener does not work with G Jetty 2.1.3, works with G Tomcat 2.1.3
    * [GERONIMO-4329] -	plan create for web app doesn't work if app contains compiled jsps
    * [GERONIMO-4157] -	Generating plan for EAR on minimal install leads to Null Pointer Exception


** Task
    * [GERONIMO-5707] -	Document the usage of derby authentication and possible problems during updgrade
    * [GERONIMO-5127] -	login module for spnego support in geronimo

    
    
** Sub-task
    * [GERONIMO-5589] -	Display basic set of navigation items in a list instead of a tree
    * [GERONIMO-5573] -	Fix console-testsuite for Geroniom-4950 change
    * [GERONIMO-5328] -	deployment-testsuite/jca-cms-tests has failures
    * [GERONIMO-5315] -	concurrent-testsuite/concurrent-basic has failures in the build console output
    * [GERONIMO-5314] -	commands-testsuite/jaxws test failures
    * [GERONIMO-5218] -	The portlets page in iframe height is limited in debug view, so that some content is not visible when expanding the tree in debug view.
    * [GERONIMO-5217] -	History.back and History.forward is not working correctly after change the console navigation to ajax.
    * [GERONIMO-5132] -	In debug mode Properties file login module reurns loginsucceeded as true for non existent users and null password GERONIMO-4983
    * [GERONIMO-5131] -	Retrieving group information from Active Directory server for authorization in Spnego
    * [GERONIMO-5130] -	Documentation for using Spnego with geronimo
    * [GERONIMO-5128] -	login module for spnego support in geronimo


** Test





Certification Status
--------------------
Apache Geronimo v@VERSION@ has passed 100% of SUN's Java Enterprise Edition 5.0 
Certification Test Suite. See "Distributions" for further details.


Distributions
-------------
Apache Geronimo v@VERSION@ is available in five distributions so you can pick the 
one that best fits your environment.

The available distributions are as follows:

Certified distributions:
- Apache Geronimo with Tomcat web container, AXIS2 for Web Services and OpenJPA
  for persistence.
- Apache Geronimo with Jetty web container, CXF for Web Services and OpenJPA 
  for persistence.

Non-Certified distributions:
- Little-G with Tomcat web container, minimal configuration.
- Little-G with Jetty web container, minimal configuration.
- Geronimo framework, stripped down Geronimo pluggable framework.

Note: Non-Certified distributions do not contain a complete JavaEE5 stack and
so cannot be certified.  Certified distributions can be reconfigured by the
user (such as Tomcat web container with CXF for Web Services). 


Supported features
------------------
All programming elements of the Java EE 5.0 Specification are available.  

