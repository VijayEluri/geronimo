<?xml version="1.0" encoding="UTF-8"?>
<mbean name="ConnectionManagerDeployment" description="ConnectionManagerDeployment describes behavior of the ConnectionManager"
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
    xsi:noNamespaceSchemaLocation="/Users/david/geronimo/head2/incubator-geronimo/modules/kernel/src/schema/mbean-descriptor.xsd">

    <target class="org.apache.geronimo.connector.outbound.ConnectionManagerDeployment"/>

    <attribute name="Stack" description="Returns the stack of interceptors for the proxy cm.  For deserializing the cm" readable="true" writable="false"/>

    <attribute name="UseConnectionRequestInfo" description="Should the ConnectionManager distiguish pools based on the ConnectionRequestInfo supplied by the application"/>
    <attribute name="UseSubject" description="Should the ConnectionManager distiguish pools based on the Subject supplied by the SecurityDomain"/>
    <attribute name="UseTransactionCaching" description="Should connections be associated with transactions"/>
    <attribute name="UseLocalTransactions" description="Should the ConnectionManager use local tx or xa tx"/>
    <attribute name="MaxSize" description="Maximum number of connections in a pool"/>
    <attribute name="BlockingTimeout" description="Max time to wait (Milliseconds) for a free connection"/>
    <attribute name="JndiName" description="Identifying name for unshared resource detection"/>
    <operation name="createConnectionFactory" impact="ACTION" description="Creates a connection factory using from the supplied ManagedConnectionFactory">
        <parameter name="ManagedConnectionFactory" type="javax.resource.spi.ManagedConnectionFactory" description="ManagedConnectionFactory to get the ConnectionFactory from"/>
    </operation>
    <endpoint name="TransactionManager" type="javax.transaction.TransactionManager" required="false" >
        <peer pattern="geronimo.transaction:role=TransactionManager"/>
    </endpoint>
    <endpoint name="SecurityDomain" type="org.apache.geronimo.connector.outbound.SecurityDomain" required="false" >
        <peer pattern="geronimo.connector:role=SecurityDomain"/>
    </endpoint>
    <endpoint name="CachedConnectionManager" type="org.apache.geronimo.connector.outbound.CachedConnectionManager">
        <peer pattern="geronimo.connector:role=CachedConnectionManager"/>
    </endpoint>
</mbean>