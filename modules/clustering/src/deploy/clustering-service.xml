<?xml version="1.0" encoding="UTF-8"?>

<components>

    <class-space name="geronimo.system:role=ClassSpace,name=System">
        <codebase url="file:lib/">
            <archive name="*"/>
        </codebase>
        <codebase url="file:../../lib/">
            <archive name="geronimo-core-DEV.jar"/>
            <archive name="geronimo-common-DEV.jar"/>
        </codebase>
    </class-space>

  <!-- ============================================================ -->
  <!-- Start two Clusters containing 5 nodes (all Local)            -->
  <!-- ============================================================ -->

  <mbean
    descriptor="org.apache.geronimo.clustering.LocalCluster"
    name="geronimo.clustering:role=Cluster,name=GERONIMO,node=0"
    >
  </mbean>

  <mbean
    descriptor="org.apache.geronimo.clustering.LocalCluster"
    name="geronimo.clustering:role=Cluster,name=GERONIMO,node=1"
    >
  </mbean>

  <mbean
    descriptor="org.apache.geronimo.clustering.LocalCluster"
    name="geronimo.clustering:role=Cluster,name=GERONIMO,node=2"
    >
  </mbean>

  <mbean
    descriptor="org.apache.geronimo.clustering.LocalCluster"
    name="geronimo.clustering:role=Cluster,name=GERONIMO2,node=0"
    >
  </mbean>

  <mbean
    descriptor="org.apache.geronimo.clustering.LocalCluster"
    name="geronimo.clustering:role=Cluster,name=GERONIMO2,node=1"
    >
  </mbean>

  <!-- ============================================================ -->
  <!-- Web Tier Manager                                             -->
  <!-- ============================================================ -->
  <mbean
    descriptor="org.apache.geronimo.clustering.web.WebTier"
    name="geronimo.clustering:role=Tier,name=web,cluster=GERONIMO,node=0"
    >
  </mbean>

  <!-- ============================================================ -->
  <!-- EJB Tier Manager                                             -->
  <!-- ============================================================ -->

  <mbean
    descriptor="org.apache.geronimo.clustering.ejb.EJBTier"
    name="geronimo.clustering:role=Tier,name=ejb,cluster=GERONIMO,node=0"
    >
  </mbean>

  <!-- ============================================================ -->
  <!-- Start a test distributable HttpSessionManager...             -->
  <!-- ============================================================ -->

  <mbean
    descriptor="org.apache.geronimo.clustering.web.HttpSessionManager"
    name="geronimo.clustering:role=HttpSessionManager,context=/dummy,cluster=GERONIMO,node=0"
    >
        <!-- I use attributes here because these Objects will be created dynamically insinde the WebContainer -->
        <attribute name="ClusterName">GERONIMO</attribute>
        <attribute name="NodeName">0</attribute>
        <attribute name="ContextPath">/dummy</attribute>
  </mbean>

</components>
