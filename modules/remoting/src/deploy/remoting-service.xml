<?xml version="1.0" encoding="UTF-8"?>
<components>
    <class-space name="geronimo.system:role=ClassSpace,name=System"/>

    <!-- ============================================================ -->
    <!-- Sets up the SubSystem router.                                -->
    <!-- ============================================================ -->
    <mbean descriptor="org/apache/geronimo/remoting/router/SubsystemRouter.xml" 
           name="geronimo.remoting:router=SubsystemRouter">
    </mbean>

    <!-- ============================================================ -->
    <!-- Starts the remoting async://0.0.0.0:3434 transport           -->
    <!-- ============================================================ -->
    <mbean descriptor="org/apache/geronimo/remoting/transport/TransportLoader.xml"
            name="geronimo.remoting:transport=async">
            <attribute name="BindURI">async://0.0.0.0:3434</attribute>
    </mbean>

    <!-- ============================================================ -->
    <!-- Sets up the JMX Router.                                      -->
    <!--  This router Uses ObjectNames to route invocations.          -->
    <!-- Sample URI to Target:                                        -->
    <!--   async://localhost:3434/JMX#geronimo.test:service=Test      -->
    <!-- ============================================================ -->
    <mbean descriptor="org/apache/geronimo/remoting/router/JMXRouter.xml" 
            name="geronimo.remoting:router=JMXRouter">
    </mbean>    

    <!-- ============================================================ -->
    <!-- Sets up the InterceptorRegistry Router.                      -->
    <!--  This router uses dynamic oids (generated by the             -->
    <!--  InterceptorRegistry) to route invocations.                  -->
    <!-- Sample URI to Target:                                        -->
    <!--   async://localhost:3434/Remoting#121                        -->
    <!-- ============================================================ -->
    <mbean descriptor="org/apache/geronimo/remoting/router/InterceptorRegistryRouter.xml" 
            name="geronimo.remoting:router=InterceptorRegistryRouter">
    </mbean>    

    <!-- ============================================================ -->
    <!-- Expose the MBeanServer via remoting URI                      -->
    <!--   async://localhost:3434/JMX#geronimo.jmx:target=MBeanServerStub -->
    <!-- ============================================================ -->
    <mbean descriptor="org/apache/geronimo/remoting/jmx/MBeanServerStub.xml"
            name="geronimo.remoting:target=MBeanServerStub">
    </mbean>    

</components>
