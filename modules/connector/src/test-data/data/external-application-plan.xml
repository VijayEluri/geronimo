<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2004 The Apache Software Foundation

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<application xmlns="http://geronimo.apache.org/xml/ns/j2ee/application"
    configId="org/apache/geronimo/j2ee/deployment/test"
    >
    <!--parentId="org/apache/geronimo/Server"-->

    <module>
        <connector>test-rar-10-noger.rar</connector>
        <connector xmlns="http://geronimo.apache.org/xml/ns/j2ee/connector" version="1.0"
            configId="org/apache/geronimo/j2ee/deployment/test"
            parentId="org/apache/geronimo/Server">

            <resourceadapter>
                <outbound-resourceadapter>
                    <connection-definition>
                        <connectionfactory-interface>javax.resource.cci.ConnectionFactory</connectionfactory-interface>
                        <connectiondefinition-instance>
                            <name>FirstTestOutboundConnectionFactory</name>
                            <config-property-setting name="OutboundStringProperty1">newvalue1</config-property-setting>
                            <config-property-setting name="OutboundStringProperty3">newvalue2</config-property-setting>
                            <connectionmanager>
                                <realm-bridge>TargetRealm</realm-bridge>
                                <xa-transaction>
                                    <transaction-caching/>
                                </xa-transaction>
                                <partitioned-pool>
                                    <max-size>10</max-size>
                                    <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                                    <match-one/>
                                    <partition-by-subject/>
                                </partitioned-pool>
                            </connectionmanager>
                            <global-jndi-name>connectionfactories/testcf</global-jndi-name>
                            <credential-interface>javax.resource.spi.security.PasswordCredential</credential-interface>
                        </connectiondefinition-instance>
                        <connectiondefinition-instance>
                            <name>SecondTestOutboundConnectionFactory</name>
                            <config-property-setting name="OutboundStringProperty4">newvalue3</config-property-setting>
                            <config-property-setting name="OutboundStringProperty1">newvalue4</config-property-setting>
                            <connectionmanager>
                                <xa-transaction>
                                    <transaction-caching/>
                                </xa-transaction>
                                <single-pool>
                                    <max-size>10</max-size>
                                    <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                                    <match-one/>
                                </single-pool>
                            </connectionmanager>
                        </connectiondefinition-instance>
                        <connectiondefinition-instance>
                            <name>ThirdTestOutboundConnectionFactory</name>
                            <config-property-setting name="OutboundStringProperty">StringValue3</config-property-setting>
                            <connectionmanager>
                                <realm-bridge>TargetRealm</realm-bridge>
                                <xa-transaction>
                                    <transaction-caching/>
                                </xa-transaction>
                                <partitioned-pool>
                                    <max-size>10</max-size>
                                    <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                                    <match-one/>
                                    <partition-by-subject/>
                                </partitioned-pool>
                            </connectionmanager>
                        </connectiondefinition-instance>
                    </connection-definition>
                </outbound-resourceadapter>
            </resourceadapter>

        </connector>
    </module>
    <module>
        <connector>test-rar-15-noger.rar</connector>
        <connector xmlns="http://geronimo.apache.org/xml/ns/j2ee/connector" version="1.5"
            configId="org/apache/geronimo/j2ee/deployment/test"
            parentId="org/apache/geronimo/Server">

            <resourceadapter>
                <resourceadapter-instance>
                    <resourceadapter-name>testRA</resourceadapter-name>
                    <config-property-setting name="RAStringProperty">NewStringValue</config-property-setting>
                    <workmanager-name>DefaultWorkManager</workmanager-name>
                </resourceadapter-instance>
                <outbound-resourceadapter>
                    <connection-definition>
                        <connectionfactory-interface>javax.resource.cci.ConnectionFactory</connectionfactory-interface>
                        <connectiondefinition-instance>
                            <name>FirstTestOutboundConnectionFactory</name>
                            <config-property-setting name="OutboundStringProperty1">newvalue1</config-property-setting>
                            <config-property-setting name="OutboundStringProperty3">newvalue2</config-property-setting>
                            <connectionmanager>
                                <realm-bridge>TargetRealm</realm-bridge>
                                <xa-transaction>
                                    <transaction-caching/>
                                </xa-transaction>
                                <partitioned-pool>
                                    <max-size>10</max-size>
                                    <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                                    <match-one/>
                                    <partition-by-subject/>
                                </partitioned-pool>
                            </connectionmanager>
                            <global-jndi-name>connectionfactories/testcf</global-jndi-name>
                            <credential-interface>javax.resource.spi.security.PasswordCredential</credential-interface>
                        </connectiondefinition-instance>
                        <connectiondefinition-instance>
                            <name>SecondTestOutboundConnectionFactory</name>
                            <config-property-setting name="OutboundStringProperty4">newvalue3</config-property-setting>
                            <config-property-setting name="OutboundStringProperty1">newvalue4</config-property-setting>
                            <connectionmanager>
                                <realm-bridge>TargetRealm</realm-bridge>
                                <xa-transaction>
                                    <transaction-caching/>
                                </xa-transaction>
                                <partitioned-pool>
                                    <max-size>10</max-size>
                                    <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                                    <match-one/>
                                    <partition-by-subject/>
                                </partitioned-pool>
                            </connectionmanager>
                        </connectiondefinition-instance>
                    </connection-definition>
                    <connection-definition>
                        <connectionfactory-interface>org.apache.geronimo.connector.mock.ConnectionFactoryExtension</connectionfactory-interface>
                        <connectiondefinition-instance>
                            <name>ThirdTestOutboundConnectionFactory</name>
                            <config-property-setting name="OutboundStringProperty1">StringValue3</config-property-setting>
                            <connectionmanager>
                                <realm-bridge>TargetRealm</realm-bridge>
                                <xa-transaction>
                                    <transaction-caching/>
                                </xa-transaction>
                                <partitioned-pool>
                                    <max-size>10</max-size>
                                    <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                                    <match-one/>
                                    <partition-by-subject/>
                                </partitioned-pool>
                            </connectionmanager>
                        </connectiondefinition-instance>
                    </connection-definition>
                </outbound-resourceadapter>
                <adminobject>
                    <adminobject-interface>org.apache.geronimo.connector.mock.MockAdminObject</adminobject-interface>
                    <adminobject-class>org.apache.geronimo.connector.mock.MockAdminObjectImpl</adminobject-class>
                    <adminobject-instance>
                        <message-destination-name>tweedledee</message-destination-name>
                        <config-property-setting name="Tweedle">Dee-value</config-property-setting>
                    </adminobject-instance>
                    <adminobject-instance>
                        <message-destination-name>tweedledum</message-destination-name>
                        <config-property-setting name="Tweedle">Dum-value</config-property-setting>
                    </adminobject-instance>
                </adminobject>
            </resourceadapter>

        </connector>

    </module>
</application>