<?xml version="1.0" encoding="UTF-8"?>

<!-- $Id: maven.xml,v 1.1 2003/08/14 11:00:00 jdillon Exp $ -->

<project default="build"
  xmlns:j="jelly:core"
  xmlns:u="jelly:util"
  xmlns:ant="jelly:ant"
  xmlns:maven="jelly:maven">
  
  <!-- ===================== -->
  <!-- Module Initialization -->
  <!-- ===================== -->
  
  <ant:property file="${basedir}/../../etc/project.properties"/>
  
  
  <!-- ============== -->
  <!-- Specifications -->
  <!-- ============== -->
  
  <goal name="specs:reactor">
    <maven:reactor
        basedir="${basedir}/specs"
        includes="*/project.xml"
        banner="Executing (${goals}):"
        ignoreFailures="false"
        goals="${goals}"
    />
  </goal>
  
  <goal name="specs:build">
    <j:set var="goals" value="jar:install"/>
    <attainGoal name="specs:reactor"/>
  </goal>
   
  <goal name="specs:rebuild">
    <j:set var="goals" value="clean, jar:install"/>
    <attainGoal name="specs:reactor"/>
  </goal>
  
  <goal name="specs:site">
    <j:set var="goals" value="site"/>
    <attainGoal name="specs:reactor"/>
  </goal>
  
  <goal name="specs:clean">
    <j:set var="goals" value="clean"/>
    <attainGoal name="specs:reactor"/>
  </goal>
  
  <preGoal name="clean">
    <attainGoal name="specs:clean"/>
  </preGoal>
  
  <goal name="build">
    <attainGoal name="specs:build"/>
  </goal>
  
  <goal name="rebuild">
    <attainGoal name="specs:rebuild"/>
  </goal>
  
</project>